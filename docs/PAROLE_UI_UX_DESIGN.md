# 🎨 Parole UI/UX設計書

## 概要

Parole機能のダッシュボードUI/UX設計です。Apple HIGの原則（Clarity / Deference / Depth）に基づいて設計します。

---

## 1. ページ構成

### **1.1 インサイトページ**

```
/dashboard/[siteId]/insights
```

#### **ページ構造**

```
┌─────────────────────────────────────────────────┐
│ ヘッダー                                         │
│ ← ダッシュボード  [サイト名]                    │
├─────────────────────────────────────────────────┤
│                                                  │
│  ┌──────────────────────────────────────────┐  │
│  │ 概要カード（3つ）                         │  │
│  │ ┌──────┐ ┌──────┐ ┌──────┐              │  │
│  │ │今週  │ │今月  │ │最多  │              │  │
│  │ │質問数│ │質問数│ │カテゴリ│            │  │
│  │ └──────┘ └──────┘ └──────┘              │  │
│  └──────────────────────────────────────────┘  │
│                                                  │
│  ┌──────────────────────────────────────────┐  │
│  │ 質問ランキング                            │  │
│  │ ┌──────────────────────────────────────┐│  │
│  │ │ 1. 価格はいくらですか？ (45回)        ││  │
│  │ │ 2. どのような機能がありますか？ (32回)││  │
│  │ │ ...                                   ││  │
│  │ └──────────────────────────────────────┘│  │
│  └──────────────────────────────────────────┘  │
│                                                  │
│  ┌──────────────────────────────────────────┐  │
│  │ キーワード分析                            │  │
│  │ [価格(125)] [機能(98)] [使い方(76)] ... │  │
│  └──────────────────────────────────────────┘  │
│                                                  │
│  ┌──────────────────────────────────────────┐  │
│  │ 時系列グラフ                              │  │
│  │ ────┐                                     │  │
│  │     │  ┌───┐                              │  │
│  │     └──┘   └───┐                          │  │
│  │                 └───┐                     │  │
│  └──────────────────────────────────────────┘  │
│                                                  │
└─────────────────────────────────────────────────┘
```

---

## 2. コンポーネント設計

### **2.1 概要カード**

#### **デザイン**

```tsx
<Card className="p-6">
  <div className="flex items-center justify-between mb-2">
    <span className="text-sm text-premium-muted">今週の質問数</span>
    <Icon name="trending-up" className="w-5 h-5 text-emerald-400" />
  </div>
  <div className="text-3xl font-semibold text-premium-text">127</div>
  <div className="mt-2 text-xs text-premium-muted">
    前週比 +12%
  </div>
</Card>
```

#### **仕様**

- **サイズ**: 固定幅（レスポンシブ対応）
- **カラー**: プレミアムSaaS UIガイドラインに準拠
- **アニメーション**: 数値のカウントアップアニメーション（200ms）

---

### **2.2 質問ランキング**

#### **デザイン**

```tsx
<Card className="p-6">
  <div className="flex items-center justify-between mb-4">
    <h2 className="text-xl font-semibold text-premium-text">
      よくある質問 TOP 10
    </h2>
    <Select defaultValue="week">
      <option value="week">今週</option>
      <option value="month">今月</option>
      <option value="all">すべて</option>
    </Select>
  </div>
  <div className="space-y-3">
    {questions.map((q, index) => (
      <div
        key={index}
        className="flex items-start gap-4 p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition"
      >
        <div className="flex-shrink-0 w-8 h-8 rounded-full bg-emerald-400/20 flex items-center justify-center text-sm font-semibold text-emerald-400">
          {index + 1}
        </div>
        <div className="flex-1 min-w-0">
          <p className="text-sm text-premium-text mb-1">{q.question}</p>
          <div className="flex items-center gap-4 text-xs text-premium-muted">
            <span>{q.count}回</span>
            <span>初回: {formatDate(q.first_asked_at)}</span>
          </div>
        </div>
      </div>
    ))}
  </div>
</Card>
```

#### **仕様**

- **表示件数**: デフォルト10件、最大50件
- **期間フィルタ**: 今週/今月/すべて
- **インタラクション**: ホバー時にハイライト
- **アクセシビリティ**: キーボードナビゲーション対応

---

### **2.3 キーワードクラウド**

#### **デザイン**

```tsx
<Card className="p-6">
  <h2 className="text-xl font-semibold text-premium-text mb-4">
    よく使われるキーワード
  </h2>
  <div className="flex flex-wrap gap-2">
    {keywords.map((kw, index) => {
      const size = Math.max(12, Math.min(24, kw.count / 5));
      return (
        <span
          key={index}
          className="px-3 py-1.5 rounded-full bg-emerald-400/20 text-emerald-100 border border-emerald-400/30 hover:bg-emerald-400/30 transition"
          style={{ fontSize: `${size}px` }}
        >
          {kw.keyword} ({kw.count})
        </span>
      );
    })}
  </div>
</Card>
```

#### **仕様**

- **サイズ**: 出現頻度に応じて動的に変更
- **カラー**: エメラルドグリーン系
- **最大表示数**: 20件
- **インタラクション**: クリックで詳細表示（将来実装）

---

### **2.4 時系列グラフ**

#### **デザイン**

```tsx
<Card className="p-6">
  <div className="flex items-center justify-between mb-4">
    <h2 className="text-xl font-semibold text-premium-text">
      質問数の推移
    </h2>
    <Select defaultValue="day">
      <option value="day">日別</option>
      <option value="week">週別</option>
      <option value="month">月別</option>
    </Select>
  </div>
  <div className="h-64">
    <LineChart data={timeline} />
  </div>
</Card>
```

#### **仕様**

- **グラフライブラリ**: Recharts または Chart.js
- **期間フィルタ**: 日別/週別/月別
- **インタラクション**: ホバーで詳細表示
- **レスポンシブ**: モバイル対応

---

## 3. レイアウト設計

### **3.1 グリッドシステム**

```
┌─────────────────────────────────────────┐
│ 概要カード（3列）                        │
│ ┌─────┐ ┌─────┐ ┌─────┐                │
│ │  1  │ │  2  │ │  3  │                │
│ └─────┘ └─────┘ └─────┘                │
├─────────────────────────────────────────┤
│ 質問ランキング（2列）                    │
│ ┌─────────────┐ ┌─────────────┐        │
│ │  ランキング  │ │  キーワード  │        │
│ │             │ │             │        │
│ └─────────────┘ └─────────────┘        │
├─────────────────────────────────────────┤
│ 時系列グラフ（1列）                      │
│ ┌─────────────────────────────────────┐ │
│ │           グラフ                     │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### **3.2 レスポンシブブレークポイント**

- **モバイル（< 640px）**: 1列レイアウト
- **タブレット（640px - 1024px）**: 2列レイアウト
- **デスクトップ（> 1024px）**: 3列レイアウト

---

## 4. カラーパレット

### **4.1 プレミアムSaaS UIガイドライン準拠**

```css
/* テキストカラー */
--premium-text: #f1f5f9;        /* メインテキスト */
--premium-muted: #94a3b8;       /* サブテキスト */
--premium-accent: #10b981;      /* アクセント（エメラルド） */

/* 背景カラー */
--premium-base: #010e0a;        /* ベース背景 */
--premium-surface: rgba(255, 255, 255, 0.05);  /* カード背景 */
--premium-border: rgba(255, 255, 255, 0.1);     /* ボーダー */

/* グラデーション */
--premium-gradient: linear-gradient(
  to right,
  #10b981,
  #34d399,
  #6ee7b7
);
```

---

## 5. タイポグラフィ

### **5.1 フォントサイズ**

```css
/* 見出し */
h1: 3xl (30px) / font-semibold
h2: 2xl (24px) / font-semibold
h3: xl (20px) / font-semibold

/* 本文 */
body: base (16px) / font-normal
small: sm (14px) / font-normal
tiny: xs (12px) / font-normal
```

### **5.2 行間**

```css
line-height: 1.5;  /* 本文 */
line-height: 1.2;  /* 見出し */
```

---

## 6. アニメーション

### **6.1 トランジション**

```css
/* 標準トランジション */
transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);

/* ホバーエフェクト */
hover:translate-y-[-2px] + shadow-lg
```

### **6.2 ローディング**

```tsx
<LoadingDots color="#10b981" />
```

---

## 7. アクセシビリティ

### **7.1 キーボードナビゲーション**

- Tabキーでフォーカス移動
- Enterキーで選択
- Escキーでモーダル閉じる

### **7.2 スクリーンリーダー対応**

```tsx
<button aria-label="期間を選択">
  <Select aria-label="期間フィルタ">
    ...
  </Select>
</button>
```

### **7.3 コントラスト比**

- テキスト: 4.5:1以上
- 大きなテキスト: 3:1以上

---

## 8. 実装チェックリスト

### **コンポーネント**

- [ ] 概要カードコンポーネント
- [ ] 質問ランキングコンポーネント
- [ ] キーワードクラウドコンポーネント
- [ ] 時系列グラフコンポーネント
- [ ] 期間フィルタコンポーネント

### **ページ**

- [ ] `/dashboard/[siteId]/insights` ページ
- [ ] ローディング状態
- [ ] エラー状態
- [ ] 空状態

### **スタイリング**

- [ ] プレミアムSaaS UIガイドライン準拠
- [ ] レスポンシブデザイン
- [ ] ダークモード対応
- [ ] アニメーション実装

### **アクセシビリティ**

- [ ] キーボードナビゲーション
- [ ] スクリーンリーダー対応
- [ ] コントラスト比チェック
- [ ] ARIA属性の設定

---

## 9. モックアップ例

### **9.1 デスクトップ表示**

```
┌─────────────────────────────────────────────────────────────┐
│ ← ダッシュボード  サイト名                                   │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐                │
│  │ 今週     │  │ 今月     │  │ 最多     │                │
│  │ 127      │  │ 542      │  │ 価格     │                │
│  │ +12%     │  │ +8%      │  │ 45回     │                │
│  └──────────┘  └──────────┘  └──────────┘                │
│                                                              │
│  ┌────────────────────────┐  ┌────────────────────────┐    │
│  │ よくある質問 TOP 10    │  │ よく使われるキーワード │    │
│  │                        │  │                        │    │
│  │ 1. 価格はいくら？(45)  │  │ [価格(125)] [機能(98)] │    │
│  │ 2. 機能は？(32)       │  │ [使い方(76)] ...      │    │
│  │ ...                   │  │                        │    │
│  └────────────────────────┘  └────────────────────────┘    │
│                                                              │
│  ┌────────────────────────────────────────────────────────┐│
│  │ 質問数の推移                                            ││
│  │ ────┐                                                  ││
│  │     │  ┌───┐                                           ││
│  │     └──┘   └───┐                                       ││
│  │                 └───┐                                   ││
│  └────────────────────────────────────────────────────────┘│
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 10. 実装優先順位

1. **Phase 1（MVP）**
   - 概要カード
   - 質問ランキング
   - キーワードクラウド（簡易版）
   - 時系列グラフ（簡易版）

2. **Phase 2**
   - クラスタリング表示
   - 詳細モーダル
   - CSVエクスポート

3. **Phase 3**
   - AI改善提案表示
   - インタラクティブなグラフ
   - リアルタイム更新

